<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Scrada Electron App</title>
  <!-- Bootstrap CSS -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/css/bootstrap.min.css"
  />
</head>
<body>
  <div class="container my-5">
    <h1 class="text-center mb-5">Scrada Wizard</h1>

    <!-- Wizard Steps -->
    <div id="wizard">
      <!-- Step 1: API Key and Subdomain -->
      <div id="step-1">
        <h3>Step 1: Configuration</h3>
        <form id="config-form">
          <div class="form-group">
            <label for="apiKey">Knowledge API Key:</label>
            <input type="text" id="apiKey" class="form-control" required />
          </div>
          <div class="form-group">
            <label for="subdomain">Ada Subdomain:</label>
            <input type="text" id="subdomain" class="form-control" required />
          </div>
          <button type="button" class="btn btn-primary" id="to-step-2">Next</button>
        </form>
      </div>

      <!-- Step 2: Knowledge Sources -->
      <div id="step-2" style="display: none;">
        <h3>Step 2: Current Knowledge Sources</h3>
        <button id="refreshSourcesBtn" class="btn btn-info mb-3">Refresh Knowledge Sources</button>
        <table class="table table-striped" id="knowledgeSourcesTable">
          <thead>
            <tr>
              <th>Name</th>
              <th>ID</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <!-- Knowledge sources will be populated here -->
          </tbody>
        </table>
        <button type="button" class="btn btn-secondary" id="back-to-step-1">Back</button>
        <button type="button" class="btn btn-primary" id="to-step-3">Next</button>
      </div>

      <!-- Step 3: Enter Sitemap URL -->
      <div id="step-3" style="display: none;">
        <h3>Step 3: Enter Sitemap URL</h3>
        <div class="form-group">
          <label for="sitemapUrl">Sitemap URL to Scrape:</label>
          <input type="text" id="sitemapUrl" class="form-control" required />
        </div>
        <button type="button" class="btn btn-secondary" id="back-to-step-2">Back</button>
        <button type="button" class="btn btn-primary" id="to-step-4">Next</button>
      </div>

      <!-- Step 4: List of Web Pages -->
      <div id="step-4" style="display: none;">
        <h3>Step 4: Select Pages to Scrape</h3>
        <div class="form-group">
          <input type="text" id="pageFilter" class="form-control" placeholder="Filter pages by URL" />
        </div>
        <button class="btn btn-sm btn-secondary" id="checkAllBtn">Check All</button>
        <button class="btn btn-sm btn-secondary" id="uncheckAllBtn">Uncheck All</button>
        <div class="mt-3" style="max-height: 400px; overflow-y: auto;">
          <ul id="urlList" class="list-group">
            <!-- List of URLs with checkboxes will be populated here -->
          </ul>
        </div>
        <button type="button" class="btn btn-secondary" id="back-to-step-3">Back</button>
        <button type="button" class="btn btn-primary" id="to-step-5">Next</button>
      </div>

      <!-- Step 5: Enter Knowledge Source Name and Scrape -->
      <div id="step-5" style="display: none;">
        <h3>Step 5: Start Scraping</h3>
        <div class="form-group">
          <label for="knowledgeSourceName">Knowledge Source to Create:</label>
          <input type="text" id="knowledgeSourceName" class="form-control" required />
        </div>
        <button type="button" class="btn btn-secondary" id="back-to-step-4">Back</button>
        <button type="button" class="btn btn-success" id="startScrapingBtn">Scrape</button>
        <div id="progress" class="mt-4"></div>
        <pre id="output"></pre>
      </div>
    </div>
  </div>

  <!-- jQuery and Bootstrap JS for interactivity -->
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/js/bootstrap.bundle.min.js"
  ></script>
  <script src="renderer.js"></script>
</body>
</html>
